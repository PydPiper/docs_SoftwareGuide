

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>1.6. builtin - Functions &mdash; Viktor&#39;s Software Guide 2019 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="1.7. builtin - File Input/Output (IO)" href="builtin_IO.html" />
    <link rel="prev" title="1.5. builtin - Copy True/Shallow/Deep" href="builtin_copy.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> Viktor's Software Guide
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">1. Python Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="10min_python_starters_kit.html">1.1. 10min - Python Starter Kit</a></li>
<li class="toctree-l2"><a class="reference internal" href="builtin_class.html">1.2. builtin - Class (Object Oriented Programming)</a></li>
<li class="toctree-l2"><a class="reference internal" href="builtin_containers.html">1.3. builtin - Tuples, Lists, Sets, Dictionaries</a></li>
<li class="toctree-l2"><a class="reference internal" href="builtin_context_manager.html">1.4. builtin - Context Manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="builtin_copy.html">1.5. builtin - Copy True/Shallow/Deep</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">1.6. builtin - Functions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#syntax">1.6.1. Syntax</a></li>
<li class="toctree-l3"><a class="reference internal" href="#all-about-variables">1.6.2. All about variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="#common-pitfall-global-vs-local-vs-nonlocal">1.6.3. Common pitfall - Global vs Local vs NonLocal</a></li>
<li class="toctree-l3"><a class="reference internal" href="#call-function-by-its-string-name">1.6.4. Call function by its string name</a></li>
<li class="toctree-l3"><a class="reference internal" href="#function-dundur">1.6.5. Function dundur</a></li>
<li class="toctree-l3"><a class="reference internal" href="#functional-programming-map-filter-and-reduce">1.6.6. functional programming: map, filter, and reduce</a></li>
<li class="toctree-l3"><a class="reference internal" href="#functional-programming-factory-closures-currying">1.6.7. functional programming - factory/closures/currying</a></li>
<li class="toctree-l3"><a class="reference internal" href="#trick-clean-function-piping">1.6.8. Trick - Clean Function Piping</a></li>
<li class="toctree-l3"><a class="reference internal" href="#trick-define-function-via-text">1.6.9. Trick - Define function via text</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="builtin_IO.html">1.7. builtin - File Input/Output (IO)</a></li>
<li class="toctree-l2"><a class="reference internal" href="builtin_logic_loops.html">1.8. builtin - Logic Loops</a></li>
<li class="toctree-l2"><a class="reference internal" href="builtin_mutable.html">1.9. builtin - Mutable/Immutable</a></li>
<li class="toctree-l2"><a class="reference internal" href="builtin_strings.html">1.10. builtin - Strings</a></li>
<li class="toctree-l2"><a class="reference internal" href="builtin_user_inputs.html">1.11. builtin - User Inputs</a></li>
<li class="toctree-l2"><a class="reference internal" href="lib_pyinstaller.html">1.12. lib - pyinstaller</a></li>
<li class="toctree-l2"><a class="reference internal" href="lib_pyqt.html">1.13. lib - PyQt5 (GUI)</a></li>
<li class="toctree-l2"><a class="reference internal" href="lib_pytest.html">1.14. lib - pytest</a></li>
<li class="toctree-l2"><a class="reference internal" href="lib_sphinx.html">1.15. lib - Sphinx (code documentation)</a></li>
<li class="toctree-l2"><a class="reference internal" href="lib_subprocess.html">1.16. lib - Subprocess</a></li>
<li class="toctree-l2"><a class="reference internal" href="lib_virtualenv.html">1.17. lib - virtualenv</a></li>
<li class="toctree-l2"><a class="reference internal" href="tool_git.html">1.18. tool - Git</a></li>
<li class="toctree-l2"><a class="reference internal" href="tool_pip.html">1.19. tool - pip (Package Installer for Python)</a></li>
<li class="toctree-l2"><a class="reference internal" href="tool_pycharm.html">1.20. tool - PyCharm (IDE)</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../VBA/index.html">2. VBA Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Shell/index.html">3. Shell Guide</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Viktor's Software Guide</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="index.html">1. Python Guide</a> &raquo;</li>
        
      <li>1.6. builtin - Functions</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/python/builtin_functions.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="builtin-functions">
<h1>1.6. builtin - Functions<a class="headerlink" href="#builtin-functions" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note that all functions in python end with a return, even when a <code class="docutils literal notranslate"><span class="pre">return</span></code> is not explicitly typed out in your code
(of course this is only true if an exception is not raise within the function). When a <code class="docutils literal notranslate"><span class="pre">return</span></code> is not present within
a function, the function will simply <code class="docutils literal notranslate"><span class="pre">return</span> <span class="pre">None</span></code>.</p>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Note that local variable data will only be stored in memory while the code is within the function loop. Meaning,
a variable within a function can only be called within the function. See <a class="reference internal" href="#ref1"><span class="std std-ref">Common pitfall - Global vs Local vs NonLocal</span></a></p>
</div>
<div class="section" id="syntax">
<h2>1.6.1. Syntax<a class="headerlink" href="#syntax" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre> 1
 2
 3
 4
 5
 6
 7
 8
 9
10
11
12
13
14
15
16
17
18
19
20
21</pre></div></td><td class="code"><div class="highlight"><pre><span></span><span class="c1"># bare minimum</span>
<span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="n">arg1</span><span class="p">,</span> <span class="n">arg2</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">arg1</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">arg2</span><span class="p">)</span>

<span class="c1"># python version 3.5+ added type-hints that improves your editors inline error handling,</span>
<span class="c1">#  testing, linters, etc.</span>
<span class="c1"># to be explicit: everything on line 7 is type-hints. Lines 8-14 is your docstring</span>
<span class="c1">#  (for when you call help(foo), or autodoc)</span>
<span class="k">def</span> <span class="nf">foo</span><span class="p">(</span><span class="n">arg1</span><span class="p">:</span> <span class="nb">int</span><span class="p">,</span> <span class="n">arg2</span><span class="p">:</span> <span class="nb">str</span><span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">int</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Simple add function</span>

<span class="sd">    :param (int) arg1: positional argument one</span>
<span class="sd">    :param (str) arg2: positional argument two</span>
<span class="sd">    :return (int): addition of arg1 + arg2</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">return</span> <span class="n">arg1</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">arg2</span><span class="p">)</span>

<span class="c1"># lamba function (no-name function, or inline function definition)</span>
<span class="k">lambda</span> <span class="n">arg1</span><span class="p">,</span> <span class="n">arg2</span><span class="p">:</span> <span class="n">arg1</span> <span class="o">+</span> <span class="nb">int</span><span class="p">(</span><span class="n">arg2</span><span class="p">)</span>
</pre></div>
</td></tr></table></div>
</div>
<div class="section" id="all-about-variables">
<h2>1.6.2. All about variables<a class="headerlink" href="#all-about-variables" title="Permalink to this headline">¶</a></h2>
<ul>
<li><p>mandatory vs optional arguments</p>
<blockquote>
<div><ul class="simple">
<li><p>see line 7 from syntax example</p></li>
<li><p>arg1 is mandatory because it has no predefined value</p></li>
<li><p>arg2 is optional because it has a predefined value of “0”, therefore foo can be called by
<code class="docutils literal notranslate"><span class="pre">foo(1)</span></code> or <code class="docutils literal notranslate"><span class="pre">foo(1,&quot;0&quot;)</span></code> both returning the same value</p></li>
</ul>
</div></blockquote>
</li>
<li><p>positional vs. keyword arguments</p>
<blockquote>
<div><ul class="simple">
<li><p>data must be entered in a positional order, unless it’s fed with keyword arguments (see example below)</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># from the syntax example above with foo():</span>

<span class="c1"># call a function with positionals</span>
<span class="n">foo</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;2&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">3</span>

<span class="c1"># call a function by unpacking positionals</span>
<span class="n">mylist</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="s2">&quot;2&quot;</span><span class="p">]</span>
<span class="n">foo</span><span class="p">(</span><span class="o">*</span><span class="n">mylist</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">3</span>

<span class="c1"># call a function by keywords</span>
<span class="n">foo</span><span class="p">(</span><span class="n">arg2</span><span class="o">=</span><span class="s2">&quot;2&quot;</span><span class="p">,</span> <span class="n">arg1</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">3</span>

<span class="c1"># call a function by unpacking keywords</span>
<span class="n">mydict</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;arg2&quot;</span><span class="p">:</span><span class="s2">&quot;2, &quot;</span><span class="n">arg1</span><span class="s2">&quot;: 1}</span>
<span class="n">foo</span><span class="p">(</span><span class="o">**</span><span class="n">mydict</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">3</span>
</pre></div>
</div>
</div>
<div class="section" id="common-pitfall-global-vs-local-vs-nonlocal">
<span id="ref1"></span><h2>1.6.3. Common pitfall - Global vs Local vs NonLocal<a class="headerlink" href="#common-pitfall-global-vs-local-vs-nonlocal" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>General Global variable</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># global variable</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">5</span>

<span class="k">def</span> <span class="nf">func</span><span class="p">():</span>
    <span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>

<span class="c1"># by default, a function will only be able to access argument variable or variable defined</span>
<span class="c1">#  within the function</span>
<span class="n">func</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="ne">UnboundLocalError</span><span class="p">:</span> <span class="n">local</span> <span class="n">variable</span> <span class="s1">&#39;x&#39;</span> <span class="n">referenced</span> <span class="n">before</span> <span class="n">assignment</span>

<span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">y</span><span class="p">):</span>
    <span class="n">z</span> <span class="o">=</span> <span class="mi">15</span>
    <span class="k">print</span><span class="p">(</span><span class="n">y</span><span class="p">,</span><span class="n">z</span><span class="p">)</span>

<span class="c1"># now both variable y and z are accessible, so there are no errors</span>
<span class="n">func</span><span class="p">(</span><span class="n">y</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">10</span> <span class="mi">15</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Accessing a Global Variable</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># to access a global variable defined outside of the function</span>
<span class="k">def</span> <span class="nf">func</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">x</span>    <span class="c1"># make it accessible within the function</span>
    <span class="k">print</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="n">x</span> <span class="o">=</span> <span class="mi">500</span>

<span class="c1"># using &quot;global&quot; we can allow our function to reach outside the local variables and</span>
<span class="c1">#  grab the variable &quot;x&quot;</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">func</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">5</span>
<span class="c1"># notice no error this time, but be careful, the function also altered the value of &quot;x&quot;</span>
<span class="c1"># note that &quot;x&quot; in the function is no longer a &quot;local&quot; variable, x is now globally redefined!</span>
<span class="n">x</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">500</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Accessing a Nonlocal Variable (nested functions or loops within a function)</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># alternatively we can access variables from nested functions via &quot;nonlocal&quot;</span>
<span class="k">def</span> <span class="nf">func</span><span class="p">():</span>
    <span class="n">y</span> <span class="o">=</span> <span class="mi">5</span>
    <span class="k">def</span> <span class="nf">func2</span><span class="p">():</span>
        <span class="n">nonlocal</span> <span class="n">y</span>
        <span class="k">print</span><span class="p">(</span><span class="n">y</span><span class="p">)</span>

<span class="n">func</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">5</span>
</pre></div>
</div>
</div>
<div class="section" id="call-function-by-its-string-name">
<h2>1.6.4. Call function by its string name<a class="headerlink" href="#call-function-by-its-string-name" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li><p>Call a function by string when it is imported with <code class="docutils literal notranslate"><span class="pre">getattr()</span></code></p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">file1</span>

<span class="c1"># in this case: getattr(module, a function is a property of a module)(arguments for function)</span>
<span class="nb">getattr</span><span class="p">(</span><span class="n">file1</span> <span class="p">,</span> <span class="s2">&quot;foo&quot;</span><span class="p">)(</span><span class="mi">1</span><span class="p">,</span><span class="s2">&quot;2&quot;</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">3</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Call a function by string in the same file with <code class="docutils literal notranslate"><span class="pre">globals()</span></code> <code class="docutils literal notranslate"><span class="pre">locals()</span></code></p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># suppose we have a simple add function:</span>
<span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span> <span class="o">+</span> <span class="n">b</span>

<span class="c1"># locals and globals will return the same here</span>
<span class="nb">locals</span><span class="p">()[</span><span class="s2">&quot;func&quot;</span><span class="p">](</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">3</span>
<span class="nb">globals</span><span class="p">()[</span><span class="s2">&quot;func&quot;</span><span class="p">](</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">3</span>

<span class="c1"># the difference between locals and globals comes in when a property is nested</span>
<span class="k">def</span> <span class="nf">nest</span><span class="p">():</span>
    <span class="k">def</span> <span class="nf">func</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">a</span> <span class="o">-</span> <span class="n">b</span>
    <span class="c1"># locals will look in the current layer (ie. within nest())</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;from local: &quot;</span><span class="p">,</span> <span class="nb">locals</span><span class="p">()[</span><span class="s2">&quot;func&quot;</span><span class="p">](</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>
    <span class="c1"># globals will look at the module layer</span>
    <span class="k">print</span><span class="p">(</span><span class="s2">&quot;from global: &quot;</span><span class="p">,</span> <span class="nb">globals</span><span class="p">()[</span><span class="s2">&quot;func&quot;</span><span class="p">](</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">))</span>

<span class="n">nest</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="s1">&#39;from local: -1&#39;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="s1">&#39;from global: 3&#39;</span>
</pre></div>
</div>
</div>
<div class="section" id="function-dundur">
<h2>1.6.5. Function dundur<a class="headerlink" href="#function-dundur" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># string name of a function</span>
<span class="n">foo</span><span class="o">.</span><span class="vm">__name__</span>
<span class="o">&gt;&gt;&gt;</span> <span class="s1">&#39;foo&#39;</span>

<span class="c1"># list of arguments of a function</span>
<span class="n">foo</span><span class="o">.</span><span class="vm">__code__</span><span class="o">.</span><span class="n">co_varnames</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">(</span><span class="s1">&#39;arg1&#39;</span><span class="p">,</span> <span class="s1">&#39;arg2&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="functional-programming-map-filter-and-reduce">
<h2>1.6.6. functional programming: map, filter, and reduce<a class="headerlink" href="#functional-programming-map-filter-and-reduce" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># map works-on multiple iterables at the same time</span>
<span class="c1">#   take the following 2 lists and a simple add function for instance</span>
<span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="n">b</span> <span class="o">=</span> <span class="p">[</span><span class="mi">4</span><span class="p">,</span><span class="mi">5</span><span class="p">,</span><span class="mi">6</span><span class="p">]</span>
<span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">+</span> <span class="n">y</span>
<span class="nb">list</span><span class="p">(</span><span class="nb">map</span><span class="p">(</span><span class="n">add</span><span class="p">,</span> <span class="n">a</span><span class="p">,</span> <span class="n">b</span><span class="p">))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">9</span><span class="p">]</span> <span class="c1"># 1+4, 2+5, 3+6</span>

<span class="c1"># use filter to narrow down a iterable with a custom true/false function</span>
<span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="k">def</span> <span class="nf">test_odd</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">%</span> <span class="mi">2</span> <span class="c1"># returns 0 for even (same as true), 1 for odd (same as false)</span>
<span class="nb">list</span><span class="p">(</span><span class="nb">filter</span><span class="p">(</span><span class="n">test_odd</span><span class="p">,</span> <span class="n">a</span><span class="p">))</span>
<span class="o">&gt;&gt;&gt;</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>

<span class="c1"># use reduce to narrow down a iterable to a single value</span>
<span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">]</span>
<span class="k">def</span> <span class="nf">multiply</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span><span class="o">*</span><span class="n">y</span>
<span class="nb">reduce</span><span class="p">(</span><span class="n">multiply</span><span class="p">,</span> <span class="n">a</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">6</span>
</pre></div>
</div>
</div>
<div class="section" id="functional-programming-factory-closures-currying">
<h2>1.6.7. functional programming - factory/closures/currying<a class="headerlink" href="#functional-programming-factory-closures-currying" title="Permalink to this headline">¶</a></h2>
<p>Factory - A function that keeps its own internal state (see example below)
Closure - A “Factory” assigned to a variable
Currying - Similar to a “Closure” but input arguments changes the functionality of the Closure</p>
<ul class="simple">
<li><p>Simple Function (NOT A FACTORY example to stage set)</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># the following function is not a &quot;factory&quot; because its state is not internal</span>
<span class="c1">#   meaning, that each instance of a function will carry the same state, see demo below:</span>
<span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># some global initial state</span>
<span class="k">def</span> <span class="nf">incrementer</span><span class="p">():</span>
    <span class="k">global</span> <span class="n">counter</span> <span class="c1"># allow access to global variable &quot;counter&quot; within the function</span>
    <span class="n">counter</span> <span class="o">+=</span> <span class="mi">1</span> <span class="c1"># increment the &quot;state&quot;, but note that counter is linked to a global state</span>
    <span class="k">return</span> <span class="n">counter</span>

<span class="n">incro1</span> <span class="o">=</span> <span class="n">incrementer</span><span class="p">()</span> <span class="c1"># if incrementer was a &quot;factory&quot;, incro1 would be called a &quot;Closure&quot;</span>
<span class="n">incro2</span> <span class="o">=</span> <span class="n">incrementer</span><span class="p">()</span>

<span class="c1"># it doesnt matter that we have 2 instances of the function,</span>
<span class="c1">#   their &quot;state&quot; is linked to a global variable</span>
<span class="n">incro1</span> <span class="c1"># incro1 was assigned as a function, therefore calling the function doesnt require another &quot;()&quot;</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">1</span>

<span class="c1"># we would expect that incro2 would also return 1 but their &quot;state&quot; is linked</span>
<span class="n">incro2</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">2</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Factory Function</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># this is what makes factories unique from regular functions,</span>
<span class="c1">#   their internal state unique to each instance</span>
<span class="k">def</span> <span class="nf">incrementer</span><span class="p">():</span>
    <span class="n">counter</span> <span class="o">=</span> <span class="mi">0</span> <span class="c1"># internal state set</span>
    <span class="k">def</span> <span class="nf">return_func</span><span class="p">():</span>
        <span class="n">nonlocal</span> <span class="n">counter</span> <span class="c1"># allow access to one level higher variable; ie. &quot;counter&quot;</span>
        <span class="n">counter</span> <span class="o">+=</span> <span class="mi">1</span> <span class="c1"># change the internal state</span>
        <span class="k">return</span> <span class="n">counter</span> <span class="c1"># this is whats ultimately returned when called by a &quot;Closure&quot;</span>
    <span class="c1"># this is the tricky part...</span>
    <span class="c1"># when incrementer is initially defined, it runs through the code inside the function</span>
    <span class="c1"># sets initial &quot;counter&quot; state to 0</span>
    <span class="c1"># setups up a function &quot;return_func()&quot; but does nothing with it</span>
    <span class="c1"># then! the &quot;Closure&quot; variable is actually == the &quot;return_func&quot;</span>
    <span class="c1"># this is why counter = 0 is never reset after initialized, because</span>
    <span class="c1"># calling the &quot;Closure&quot; variable is actually calling &quot;return_func&quot;</span>
    <span class="k">return</span> <span class="n">return_func</span>

<span class="c1"># lets see this in practice...</span>
<span class="n">incro1</span> <span class="o">=</span> <span class="n">incrementer</span><span class="p">()</span> <span class="c1"># incro1 is a &quot;Closure&quot; that sets counter = 0 and returns incro1=return_func</span>
<span class="n">incro2</span> <span class="o">=</span> <span class="n">incrementer</span><span class="p">()</span> <span class="c1"># lets make a second copy to demonstrate that &quot;state&quot; is unique</span>

<span class="c1"># note that in this case we have to put &quot;()&quot; since incro=return_func,</span>
<span class="c1">#   and to call return_func we need: return_func()</span>
<span class="n">incro1</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">1</span>
<span class="n">incro2</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">1</span>
<span class="n">incro2</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">2</span>
<span class="n">incro2</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">3</span>
<span class="n">incro1</span><span class="p">()</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">2</span> <span class="c1"># indeed state is unique to each instance!</span>
</pre></div>
</div>
<ul class="simple">
<li><p>Currying Function (special Closure)</p></li>
</ul>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># now is the best time to show a builtin - library shortcut from &quot;functools&quot; called &quot;partial&quot;</span>
<span class="c1">#   &quot;partial&quot; creates a &quot;Closure&quot; for you</span>
<span class="kn">from</span> <span class="nn">functools</span> <span class="kn">import</span> <span class="n">partial</span>

<span class="k">def</span> <span class="nf">multiply</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="n">n</span>

<span class="c1"># times3 is a unique &quot;Closure&quot; created from a &quot;Factory&quot; of multiply</span>
<span class="n">times3</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">multiply</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>
<span class="c1"># another unique &quot;Closure&quot; built from the same &quot;Factory&quot; but with different function</span>
<span class="n">times5</span> <span class="o">=</span> <span class="n">partial</span><span class="p">(</span><span class="n">multiply</span><span class="p">,</span> <span class="n">n</span><span class="o">=</span><span class="mi">5</span><span class="p">)</span>

<span class="n">times3</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">6</span>
<span class="n">times5</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">10</span>
</pre></div>
</div>
</div>
<div class="section" id="trick-clean-function-piping">
<h2>1.6.8. Trick - Clean Function Piping<a class="headerlink" href="#trick-clean-function-piping" title="Permalink to this headline">¶</a></h2>
<p>Ever need to rip through a bunch of “if” statements to call the function you want? Try combing a piping dictionary with
function calls.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">func_one</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span><span class="o">+</span><span class="n">b</span>

<span class="k">def</span> <span class="nf">func_two</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span><span class="o">-</span><span class="n">b</span>

<span class="k">def</span> <span class="nf">func_three</span><span class="p">(</span><span class="n">a</span><span class="p">,</span><span class="n">b</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">a</span><span class="o">*</span><span class="n">b</span>


<span class="k">def</span> <span class="nf">math</span><span class="p">(</span><span class="n">val1</span><span class="p">:</span> <span class="nb">float</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">val2</span><span class="p">:</span> <span class="nb">float</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">condition</span><span class="p">:</span> <span class="nb">str</span><span class="o">=</span><span class="s2">&quot;one&quot;</span><span class="p">)</span> <span class="o">-&gt;</span> <span class="nb">float</span><span class="p">:</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Takes a value and multiplies it by a string amount</span>

<span class="sd">    :param (float) val: input value</span>
<span class="sd">    :param (str) multi: multiplier in string</span>
<span class="sd">    :return (float): multiplied input value</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">piper</span> <span class="o">=</span> <span class="p">{</span><span class="s2">&quot;one&quot;</span><span class="p">:</span> <span class="n">func_one</span><span class="p">,</span>
             <span class="s2">&quot;two&quot;</span><span class="p">:</span> <span class="n">func_two</span><span class="p">,</span>
             <span class="s2">&quot;three&quot;</span><span class="p">:</span> <span class="n">func_three</span><span class="p">,}</span>

    <span class="k">try</span><span class="p">:</span>
        <span class="c1"># instead of coding up a bunch of if condition == something, you can make use of a</span>
        <span class="c1">#  dict&#39;s keyword arguments to pipe for you</span>
        <span class="k">return</span> <span class="n">piper</span><span class="p">[</span><span class="n">condition</span><span class="p">](</span><span class="n">val1</span><span class="p">,</span> <span class="n">val2</span><span class="p">)</span>
    <span class="k">except</span> <span class="ne">KeyError</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">UserWarning</span><span class="p">(</span><span class="n">f</span><span class="s2">&quot;Incorrect input value for condition={condition}&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="trick-define-function-via-text">
<h2>1.6.9. Trick - Define function via text<a class="headerlink" href="#trick-define-function-via-text" title="Permalink to this headline">¶</a></h2>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="c1"># use exec() to execute text and add it to the global variables</span>
<span class="k">exec</span><span class="p">(</span><span class="s2">&quot;def f(x): return x*2&quot;</span><span class="p">,</span> <span class="nb">globals</span><span class="p">())</span>
<span class="n">f</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="o">&gt;&gt;&gt;</span> <span class="mi">10</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="builtin_IO.html" class="btn btn-neutral float-right" title="1.7. builtin - File Input/Output (IO)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="builtin_copy.html" class="btn btn-neutral float-left" title="1.5. builtin - Copy True/Shallow/Deep" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Viktor Kis

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>